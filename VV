<script>
    let battery = 0;
    let lightOn = false;
    let charging = false;

    function updateDisplay() {
        const lightElement = document.getElementById("light");
        const batteryElement = document.getElementById("battery");

        if (lightOn) {
            lightElement.textContent = "Light: On";
            lightElement.style.color = "black";
            document.body.style.backgroundColor = "white";
        } else {
            lightElement.textContent = "Light: Off";
            lightElement.style.color = "white";
            document.body.style.backgroundColor = "black";
        }

        batteryElement.textContent = `Battery: ${battery}%`;
        batteryElement.style.color = battery <= 10 ? "red" : "blue";
    }

    function toggleLight() {
        lightOn = battery > 0;
    }

    document.addEventListener("keydown", (event) => {
        if (event.code === "Space") {
            charging = true;
        }
    });

    document.addEventListener("keyup", (event) => {
        if (event.code === "Space") {
            charging = false;
        }
    });

    setInterval(() => {
        if (charging && battery < 100) {
            battery = Math.min(100, battery + 2); // charge faster
        } else if (!charging && battery > 0) {
            battery = Math.max(0, battery - 2); // drain faster
        }
        toggleLight();
        updateDisplay();
    }, 500); // runs every 0.5 seconds

    updateDisplay();
</script>
